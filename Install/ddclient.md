# Install DDClient for DynDNS

[ddclient](https://github.com/ddclient/ddclient) is a Perl script for managing Dynamic DNS (DDNS).  It will update a DNS record as the IP address of a system changes.

## Installation

Use the daily build of `ddclient` for the latest Cloudflare support:

```sh
sudo -s
apt update
add-apt-repository ppa:ddclient/daily
apt install ddclient libdata-validate-ip-perl
```

Select `other` for the DNS service provider and `dyndns2` for protocol and leave everything else blank.

> If you run `sudo dpkg-reconfigure ddclient` you'll get additional prompts about PPP, running as a daemon and update interval.  We'll set all that manually in the `ddclient.conf` so you can ignore it.

If `ddclient -help` works you are all set.  Do a `systemctl stop ddclient` to stop the service for now.

## Cloudflare Support

`ddclient` supports many different DNS providers.  Here's how to set up Cloudflare support.  Create a `/etc/ddclient.conf` file containing:

```conf
# Configuration file for ddclient generated by debconf
#
# /etc/ddclient.conf

protocol=cloudflare
zone=your-domain.org
use=if, if=enp1s0
login=token
password=2tehaleFESTHIrce8a0askm.gpsS2687
your-domain.org
```

Generate the access token in the Cloudflare website and paste it in here. Give it `DNS Edit` ability.

Run `ddclient -verbose` to test, then `systemctl restart ddclient`.

## References

- [(DDNS) Dynamic DNS with Cloudflare - by Powersjo](https://powersjo.com/dynamic-dns-with-cloudflare/)
- [Free DDNS using ddclient and Cloudflare | Jacob Jangles](https://jacobjangles.com/free-ddns-using-ddclient-and-cloudflare/)
